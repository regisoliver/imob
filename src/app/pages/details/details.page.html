<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>

    <ion-title>Imovel</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="fGroup">
    <ion-item-divider>
      <ion-label>
        Detalhes do Imovel
      </ion-label>
    </ion-item-divider>
    <ion-list>
      <ion-item>
        <ion-label color="primary" fixed>Status do Imovel:</ion-label>
        <ion-select placeholder="Status" formControlName="status">
          <ion-select-option value="Disponível">Disponível</ion-select-option>
          <ion-select-option value="ALUGADO">ALUGADO</ion-select-option>
          <ion-select-option value="VENDIDO">VENDIDO</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label color="primary" fixed>Codigo Interno:</ion-label>
        <ion-input type="text" formControlName="codigo"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label color="primary">Tipos de Imovel</ion-label>
        <ion-select placeholder="Tipos" formControlName="tipo">
          <ion-select-option value="Apartamento">Apartamento</ion-select-option>
          <ion-select-option value="Área lazer">Área lazer</ion-select-option>
          <ion-select-option value="Casa Condominio">Casa Condominio</ion-select-option>
          <ion-select-option value="Casa Rua">Casa Rua</ion-select-option>
          <ion-select-option value="Chacara">Chacara</ion-select-option>
          <ion-select-option value="Comercial">Comercial</ion-select-option>
          <ion-select-option value="Terreno Condomínio">Terreno Condomínio</ion-select-option>
          <ion-select-option value="Terreno Rua">Terreno Rua</ion-select-option>
          <ion-select-option value="Área Rural">Área Rural</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label color="primary" fixed> Número de Dormitórios:</ion-label>
        <ion-input type="number" formControlName="dormitorios"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label color="primary" fixed> Número de Suítes:</ion-label>
        <ion-input type="number" formControlName="suites"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label color="primary">Finalidade</ion-label>
        <ion-select placeholder="Finalidade" formControlName="finalidade">
          <ion-select-option value="Venda">Venda</ion-select-option>
          <ion-select-option value="Locação">Locação</ion-select-option>
          <ion-select-option value="Venda/Locação">Venda/Locação</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label color="primary" fixed>Valor Condominio:</ion-label>
        <ion-input type="number" formControlName="valor_condominio"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label color="primary" fixed>Valor IPTU:</ion-label>
        <ion-input type="number" formControlName="valor_iptu"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label color="primary" fixed>Valor do Imovel:</ion-label>
        <ion-input type="number" formControlName="valor"></ion-input>
      </ion-item>
    </ion-list>
    <ion-item-divider>
      <ion-label>
        Endereço do Imovel
      </ion-label>
    </ion-item-divider>
    <ion-list>
      <ion-item>
        <ion-input type="text" placeholder="Endereço" color="primary" formControlName="endereco"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input type="text" placeholder="Bairro" color="primary" formControlName="bairro"></ion-input>
      </ion-item>
    </ion-list>
    <ion-item-divider>
      <ion-label>
        Área do Imovel
      </ion-label>
    </ion-item-divider>
    <ion-list>
      <ion-item>
        <ion-label color="primary" fixed>Área Útil:</ion-label>
        <ion-input type="number" formControlName="area_util"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label color="primary" fixed>Área Total:</ion-label>
        <ion-input type="number" formControlName="area_total"></ion-input>
      </ion-item>
    </ion-list>
    <ion-item-divider>
      <ion-label>
        Proprietário
      </ion-label>
    </ion-item-divider>
    <ion-list>
      <ion-item>
        <ion-input type="text" placeholder="Proprietário" formControlName="proprietario"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label color="primary" fixed>Telefone:</ion-label>
        <ion-input type="tel" placeholder="(  )_____-_____" formControlName="telefone"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label color="primary">Aceita Permuta:</ion-label>
        <ion-select placeholder="Permuta" formControlName="permuta">
          <ion-select-option value="Sim">Sim</ion-select-option>
          <ion-select-option value="Não">Não</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label color="primary">Aniversário:</ion-label>
        <ion-datetime value="2019-01-01" min="1970-01" max="2020" [dayShortNames]="customDayShortNames"
          displayFormat="DD/MMM/YYYY" monthShortNames="jan, fev, mar, abr, mai, jun, jul, ago, set, out, nov, des"
          formControlName="aniversario"></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label color="primary" fixed>Canal:</ion-label>
        <ion-select placeholder="Canal" formControlName="canal">
          <ion-select-option value="Carteira">Carteira</ion-select-option>
          <ion-select-option value="OLX">OLX</ion-select-option>
          <ion-select-option value="Outros">Outros</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label color="primary" fixed>Visitas:</ion-label>
        <ion-select placeholder="Visitas" formControlName="visitas">
          <ion-select-option value="Aberta">Aberta</ion-select-option>
          <ion-select-option value="Agendar">Agendar</ion-select-option>
          <ion-select-option value="Chaves">Chaves</ion-select-option>
        </ion-select>
      </ion-item>
    </ion-list>
    <ion-item-divider>
      <ion-label>
        Itens do Imovel
      </ion-label>
    </ion-item-divider>
    <ion-list>
      <ion-item>
        <ion-label color="primary">Piscina</ion-label>
        <ion-checkbox slot="end" formControlName="detalhe_um"></ion-checkbox>
      </ion-item>
      <ion-item>
        <ion-label color="primary">Area Lazer</ion-label>
        <ion-checkbox slot="end" formControlName="detalhe_dois"></ion-checkbox>
      </ion-item>
      <ion-item>
        <ion-label color="primary">Churrasqueira</ion-label>
        <ion-checkbox slot="end" formControlName="detalhe_tres"></ion-checkbox>
      </ion-item>
      <ion-item>
        <ion-textarea rows="6" cols="20" placeholder="Comente sobre o imovel aqui..." formControlName="observacao">
        </ion-textarea>
      </ion-item>
    </ion-list>
    <ion-item-divider>
      <ion-label>
        Galeria de Imagens
      </ion-label>
    </ion-item-divider>
    <ion-list>
      <ion-button [routerLink]="['/galeria', product.id]" expand="block" color="warning">
        Adicionar Imagens
      </ion-button>
      <ion-button [routerLink]="['/galeria', product.id]" expand="block" color="warning">
        Adicionar Imagens Novo
      </ion-button>
      <ion-button shape="round" color="primary" [routerLink]="['/images']" fill="outline">
        Adicionar Imagens Novo
      </ion-button>
      <ion-item>
        <input type="file" *ngIf="!imageURL" (change)="fileChanged($event)" class="filebtn" #fileButton />
      </ion-item>
      <ion-item>
        <ion-button shape="round" color="primary" (click)="uploadFile()" *ngIf="!imageURL" fill="outline">Upload File
        </ion-button>

        <div *ngIf="imageURL">
          <ion-grid>
            <ion-row>
              <ion-col size="12">
                <ion-img src="https://ucarecdn.com/{{ imageURL }}/-/preview/{{ activeEffect }}"></ion-img>
                <ion-card-content>
                  <ion-textarea placeholder="Enter some description" [(ngModel)]="desc"></ion-textarea>
                  <ion-button shape="round" color="primary" (click)="createPost()">POST</ion-button>
                </ion-card-content>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col [class.active]="activeEffect==effects.effect1" (click)="setSelected('effect1')">
                <ion-img src="https://ucarecdn.com/{{ imageURL }}/{{ scaleCrop }}/"></ion-img>
              </ion-col>
              <ion-col [class.active]="activeEffect==effects.effect2" (click)="setSelected('effect2')">
                <ion-img src="https://ucarecdn.com/{{ imageURL }}/{{ scaleCrop }}/{{ effects.effect2 }}"></ion-img>
              </ion-col>
              <ion-col [class.active]="activeEffect==effects.effect3" (click)="setSelected('effect3')">
                <ion-img src="https://ucarecdn.com/{{ imageURL }}/{{ scaleCrop }}/{{ effects.effect3 }}"></ion-img>
              </ion-col>
              <ion-col [class.active]="activeEffect==effects.effect4" (click)="setSelected('effect4')">
                <ion-img src="https://ucarecdn.com/{{ imageURL }}/{{ scaleCrop }}/{{ effects.effect4 }}"></ion-img>
              </ion-col>
              <ion-col [class.active]="activeEffect==effects.effect5" (click)="setSelected('effect5')">
                <ion-img src="https://ucarecdn.com/{{ imageURL }}/{{ scaleCrop }}/{{ effects.effect5 }}"></ion-img>
              </ion-col>
            </ion-row>

            <ion-row *ngIf="noFace">
              <ion-col size="12">
                <p class="no-face">Images with faces perform 150 times better!</p>
              </ion-col>
            </ion-row>
          </ion-grid>

        </div>
      </ion-item>
    </ion-list>

  </form>

</ion-content>

<ion-footer>
  <div>
    <ion-button expand="block" (click)="presentAlertConfirm()" [disabled]="!fGroup.valid">
      Salvar Imóvel
    </ion-button>
  </div>
</ion-footer>